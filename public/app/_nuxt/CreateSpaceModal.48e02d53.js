import{_ as S}from"./TextInput.cd397967.js";import{_ as g}from"./Button.vue.d5db2e11.js";import{l as c,x as b,o as C,c as B,t as a,z as t,u as e,i as s,T as N,C as T}from"./entry.0dead6c9.js";import{u as k}from"./spaces.0b6c677e.js";import{q,h as p,U as M,Y as U,S as V}from"./transition.d70661fa.js";const j=s("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),z={class:"fixed inset-0 overflow-y-auto"},Y={class:"flex min-h-full items-center justify-center p-4 text-center"},$=s("span",null,"Create Space",-1),A=["onSubmit"],I={class:"w-full flex justify-end mt-4"},H={__name:"CreateSpaceModal",props:["show"],emits:["close","add"],setup(d,{emit:u}){const f=d,i=k(),n=c(""),r=c(!1),{spaces:m}=b(i),o=c({name:""});async function _(){if(n.value="",o.value.name==""){n.value="space name is required";return}if(m.value.find(l=>l.name===o.value.name)){n.value="space already exists";return}r.value=!0,await i.store(o.value),r.value=!1,await i.fetchAll(),o.value.name="",u("close")}function v(){u("close")}return(x,l)=>{const h=S,y=g;return C(),B(e(V),{appear:"",show:f.show,as:"template"},{default:a(()=>[t(e(q),{as:"div",onClose:v,class:"relative z-[999]"},{default:a(()=>[t(e(p),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[j]),_:1}),s("div",z,[s("div",Y,[t(e(p),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[t(e(M),{class:"w-full max-w-md h-full flex flex-col transform overflow-hidden rounded-2xl bg-base-200 p-6 text-left align-middle shadow-xl transition-all"},{default:a(()=>[t(e(U),{as:"h3",class:"text-lg font-medium bg-text-content mb-7"},{default:a(()=>[$]),_:1}),s("form",{onSubmit:N(_,["prevent"])},[s("div",null,[t(h,{type:"text",label:"Name",input:e(o).name,"onUpdate:input":l[0]||(l[0]=w=>e(o).name=w),error:e(n)},null,8,["input","error"])]),s("div",I,[t(y,{type:"primary",class:"h-10 px-3",loading:e(r)},{default:a(()=>[T(" Create ")]),_:1},8,["loading"])])],40,A)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])}}};export{H as _};
