import{l as n,I as L,x as J,w as K,m as Q,e as W,s as X,o as N,f as $,z as a,t as w,i as e,u as o,A as D,D as Y,S as Z,O as m,N as ee,P as te,C as F,F as oe,H as se}from"./entry.65f15cac.js";import{_ as re}from"./Logo.7b1a48fc.js";import{_ as le}from"./TextInput.901ad00a.js";import{_ as ne}from"./CountryCodePicker.6dc37df2.js";import{_ as ae}from"./Button.vue.ff2c8309.js";import{i as ie}from"./googleProvider.da8280de.js";import{u as ue}from"./social.54208420.js";import{u as de}from"./auth.58047aa3.js";import"./Icon.dab32138.js";import"./config.9f98906d.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./combobox.6ed9aa9b.js";import"./hidden.ad80bf95.js";import"./platform.ec21aee4.js";import"./use-resolve-button-type.a315323a.js";const ce=e("title",null,"Register",-1),pe={class:"flex flex-col items-center justify-center min-h-screen p-3 gap-10 bg-base-200"},me={class:"bg-base-100 flex rounded-xl shadow-md"},fe={class:"flex flex-col items-center justify-center w-full gap-6 py-3 px-7 lg:min-w-fit lg:w-[30rem]"},ve=e("div",{class:"space-y-3"},[e("div",{class:"text-2xl font-medium text-center text-primary"},"Register")],-1),_e={key:0,class:"text-error"},ge=["onSubmit"],we={class:"flex flex-col gap-2 items-center"},xe=e("span",{class:"w-full text-sm my-2"}," Phone number ",-1),he={class:"flex lg:flex-nowrap flex-wrap items-center w-full gap-2"},ye={class:"join"},be={class:""},Pe=["error"],Se=e("div",{class:"w-full text-center"},"Or",-1),Ce={class:"text-sm"},qe={__name:"register",setup(Re){const x=ue(),H=de(),h=n(null),M=L(),{error:y}=J(x),f=n(""),v=n(""),d=n(""),c=n(""),s=n({}),i=n(!1),u=n(""),p=n(966);K(u,l=>{var t;((t=l==null?void 0:l.toString())==null?void 0:t.length)>10&&(u.value=l.toString().slice(0,10))}),Q(async()=>{(await ie()).useRenderButton({useOneTap:!0,element:h.value,onError:()=>console.error("Failed to render button"),onSuccess:async g=>(i.value=!0,await x.googleRegister(g)?L().push("/dashboard"):(i.value=!0,!0))})()});const O=W(()=>(s.value={},f.value==""||v.value==""||d.value==""||c.value==""||(d.value,c.value),!(p.value==""||u.value==""))),q=async()=>{if(s.value={},i.value=!0,u.value=="")return s.value={phone:["phone field is required"]},i.value=!1,!1;if(p.value=="")return s.value={phone:["country code field is required"]},i.value=!1,!1;if(d.value!==c.value)return s.value.confirmPassword=["password confirmation does not match the password"],i.value=!1,!1;try{await H.register(f.value.trim(),v.value,u.value,p.value,d.value,c.value),M.push("/verify")}catch(l){console.log(l),s.value=l.response.data.errors}i.value=!1};return(l,t)=>{var b,P,S,C,R,T,U,V,k,B,E,j;const g=se,A=re,_=le,I=ne,z=ae,G=X("RouterLink");return N(),$(oe,null,[a(g,null,{default:w(()=>[ce]),_:1}),e("div",pe,[e("div",null,[a(A,{class:"w-20 h-20"})]),e("div",me,[e("div",fe,[ve,o(y)?(N(),$("div",_e,D(o(y)),1)):Y("",!0),e("form",{onSubmit:Z(q,["prevent"]),class:"flex flex-col gap-3 items-center"},[e("div",we,[a(_,{input:o(f),"onUpdate:input":t[0]||(t[0]=r=>m(f)?f.value=r:null),label:"Username",placeholder:"jhon_doe",error:(P=(b=o(s))==null?void 0:b.name)==null?void 0:P[0]},null,8,["input","error"]),a(_,{input:o(v),"onUpdate:input":t[1]||(t[1]=r=>m(v)?v.value=r:null),label:"Email",placeholder:"j.doe@email.com",inputType:"email",error:(C=(S=o(s))==null?void 0:S.email)==null?void 0:C[0]},null,8,["input","error"]),xe,e("div",he,[e("div",ye,[a(I,{modelValue:o(p),"onUpdate:modelValue":t[2]||(t[2]=r=>m(p)?p.value=r:null)},null,8,["modelValue"]),e("div",null,[e("div",be,[ee(e("input",{id:"placeholder",placeholder:"Phone",maxlength:"10",class:"input input-bordered w-full max-w-xs input-primary join-item",type:"number","onUpdate:modelValue":t[3]||(t[3]=r=>m(u)?u.value=r:null),autocomplete:"off"},null,512),[[te,o(u)]])])])])]),e("span",{class:"w-full text-sm text-error my-2",error:(T=(R=o(s))==null?void 0:R.name)==null?void 0:T[0]},D((V=(U=o(s))==null?void 0:U.name)==null?void 0:V[0]),9,Pe),a(_,{input:o(d),"onUpdate:input":t[4]||(t[4]=r=>m(d)?d.value=r:null),placeholder:"Password",label:"Password",inputType:"password",error:(B=(k=o(s))==null?void 0:k.password)==null?void 0:B[0]},null,8,["input","error"]),a(_,{input:o(c),"onUpdate:input":t[5]||(t[5]=r=>m(c)?c.value=r:null),placeholder:"Confirm Password",label:"Password Confirmation",inputType:"password",error:(j=(E=o(s))==null?void 0:E.confirmPassword)==null?void 0:j[0]},null,8,["input","error"])]),a(z,{type:o(O)?"primary":"disabled",loading:o(i),class:"mt-3 w-full"},{default:w(()=>[F(" Sign Up ")]),_:1},8,["type","loading"])],40,ge),Se,e("div",{id:"buttonEL",ref_key:"buttonEl",ref:h},null,512),e("div",Ce,[a(G,{to:"/login",class:"text-base underline"},{default:w(()=>[F("Login")]),_:1})])])])])],64)}}};export{qe as default};
