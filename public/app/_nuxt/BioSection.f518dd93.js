import{_ as M}from"./TextInput.d1c4a237.js";import{_ as V}from"./Button.vue.6778f305.js";import{M as $,a2 as k,K as C,l as n,G as F,x as R,m as D,y as I,e as L,o as j,f as z,i as t,z as p,u as e,O as m,N as E,P as G,A as K,t as O,C as q,S as H}from"./entry.458b6613.js";import{u as y}from"./profile.eed1ce75.js";import"./Icon.82aece9d.js";import"./config.2982fd22.js";import"./_plugin-vue_export-helper.c27b6911.js";const J={id:"ProfileSection",class:"w-full bg-base-200 rounded-lg"},Q=["onSubmit"],W={class:"w-full rounded-3xl p-6"},X={for:"bio",class:"flex flex-col mt-5 gap-1"},Y=t("span",{class:"text-sm font-medium"},"About me",-1),Z={class:"flex items-center justify-end text-[#676B5F] text-[13px]"},ee={class:"w-full"},ue={__name:"BioSection",setup(te){const{successNotification:w}=$(),S=k(),N=C(S).provide.axios,c=n(!1),f=n(!1),v=F(),{activeProfile:u}=R(y()),l=n(""),s=n(""),i=n(""),B=n(!1),a=n({});D(async()=>{await y().fetchProfile(I().params.id),T()});function T(){l.value=u.value.name,i.value=u.value.designation,s.value=u.value.bio}const P=async()=>{var d;a.value=[];try{f.value=!0,c.value=!0,await N.patch(`/api/profiles/${u.value.id}`,{name:l.value,bio:s.value,designation:i.value}),await v.getUser(),w("bio content updated successfully"),v.refreshFrame(),B.value=!1}catch(o){a.value=(d=o.response.data)==null?void 0:d.errors}f.value=!1,c.value=!1},U=L(()=>s.value?s.value.length:0);return(d,o)=>{var _,g,b,h;const x=M,A=V;return j(),z("div",J,[t("form",{onSubmit:H(P,["prevent"])},[t("div",W,[t("div",null,[p(x,{class:"mt-4",placeholder:" Name",input:e(l),"onUpdate:input":o[0]||(o[0]=r=>m(l)?l.value=r:null),rounded:!0,label:"Full Name",inputType:"text",error:e(a)&&((_=e(a))!=null&&_.name)?(g=e(a))==null?void 0:g.name[0]:""},null,8,["input","error"])]),t("div",null,[p(x,{class:"mt-4",placeholder:"Title",input:e(i),"onUpdate:input":o[1]||(o[1]=r=>m(i)?i.value=r:null),rounded:!0,label:"Title",inputType:"text",error:e(a)&&((b=e(a))!=null&&b.designation)?(h=e(a))==null?void 0:h.designation[0]:""},null,8,["input","error"])]),t("label",X,[Y,E(t("textarea",{class:"textarea textarea-primary text-sm w-full py-3.5 px-3",placeholder:"About me","onUpdate:modelValue":o[2]||(o[2]=r=>m(s)?s.value=r:null),rows:"4",maxlength:"300",id:"bio"},null,512),[[G,e(s)]])]),t("div",Z,K(e(U))+"/300",1),t("div",ee,[p(A,{type:"primary",loading:e(c),class:"p-2 w-44 block mx-auto"},{default:O(()=>[q(" Save Bio ")]),_:1},8,["loading"])])])],40,Q)])}}};export{ue as default};
