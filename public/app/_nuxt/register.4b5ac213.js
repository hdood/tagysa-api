import{l as u,I as T,x as $,m as A,e as D,s as I,o as k,f as C,z as r,t as _,i as t,u as e,A as M,D as z,S as G,O as f,C as U,F as q,H as J}from"./entry.458b6613.js";import{_ as K}from"./Logo.ba43062c.js";import{_ as Q}from"./TextInput.d1c4a237.js";import{_ as W}from"./Button.vue.6778f305.js";import{i as X}from"./googleProvider.da8280de.js";import{u as Y}from"./social.f1320bff.js";import{u as Z}from"./auth.6d11e5a3.js";import"./Icon.82aece9d.js";import"./config.2982fd22.js";import"./_plugin-vue_export-helper.c27b6911.js";const ee=t("title",null,"Register",-1),te={class:"flex flex-col items-center justify-center min-h-screen p-3 gap-10 bg-base-200"},oe={class:"bg-base-100 flex rounded-xl shadow-md"},se={class:"flex flex-col items-center justify-center w-full gap-6 py-3 px-7 lg:min-w-fit lg:w-[30rem]"},re=t("div",{class:"space-y-3"},[t("div",{class:"text-2xl font-medium text-center text-primary"},"Register")],-1),ne={key:0,class:"text-error"},ae=["onSubmit"],le={class:"flex flex-col gap-2 items-center"},ie=t("div",{class:"w-full text-center"},"Or",-1),ue={class:"text-sm"},ye={__name:"register",setup(ce){const g=Y(),L=Z(),w=u(null),N=T(),{error:x}=$(g),c=u(""),d=u(""),n=u(""),a=u(""),o=u({}),l=u(!1);A(async()=>{(await X()).useRenderButton({useOneTap:!0,element:w.value,onError:()=>console.error("Failed to render button"),onSuccess:async v=>(l.value=!0,await g.googleRegister(v)?T().push("/dashboard"):(l.value=!0,!0))})()});const j=D(()=>(o.value={},!(c.value==""||d.value==""||n.value==""||a.value==""||n.value!==a.value))),V=async()=>{if(o.value={},l.value=!0,c.value.trim().includes(" "))return o.value={name:["Name must only contain letters and underscores"]},l.value=!1,!1;if(n.value!==a.value)return o.value.confirmPassword=["password confirmation does not match the password"],l.value=!1,!1;try{await L.register(c.value.trim(),d.value,n.value,a.value),N.push("/verify")}catch(p){console.log(p),o.value=p.response.data.errors}l.value=!1};return(p,s)=>{var h,y,b,S,P,R,B,E;const v=J,F=K,m=Q,H=W,O=I("RouterLink");return k(),C(q,null,[r(v,null,{default:_(()=>[ee]),_:1}),t("div",te,[t("div",null,[r(F,{class:"w-20 h-20"})]),t("div",oe,[t("div",se,[re,e(x)?(k(),C("div",ne,M(e(x)),1)):z("",!0),t("form",{onSubmit:G(V,["prevent"]),class:"flex flex-col gap-3 items-center"},[t("div",le,[r(m,{input:e(c),"onUpdate:input":s[0]||(s[0]=i=>f(c)?c.value=i:null),label:"Username",placeholder:"jhon_doe",error:(y=(h=e(o))==null?void 0:h.name)==null?void 0:y[0]},null,8,["input","error"]),r(m,{input:e(d),"onUpdate:input":s[1]||(s[1]=i=>f(d)?d.value=i:null),label:"Email",placeholder:"j.doe@email.com",inputType:"email",error:(S=(b=e(o))==null?void 0:b.email)==null?void 0:S[0]},null,8,["input","error"]),r(m,{input:e(n),"onUpdate:input":s[2]||(s[2]=i=>f(n)?n.value=i:null),placeholder:"Password",label:"Password",inputType:"password",error:(R=(P=e(o))==null?void 0:P.password)==null?void 0:R[0]},null,8,["input","error"]),r(m,{input:e(a),"onUpdate:input":s[3]||(s[3]=i=>f(a)?a.value=i:null),placeholder:"Confirm Password",label:"Password Confirmation",inputType:"password",error:(E=(B=e(o))==null?void 0:B.confirmPassword)==null?void 0:E[0]},null,8,["input","error"])]),r(H,{type:e(j)?"primary":"disabled",loading:e(l),class:"mt-3 w-full"},{default:_(()=>[U(" Sign Up ")]),_:1},8,["type","loading"])],40,ae),ie,t("div",{id:"buttonEL",ref_key:"buttonEl",ref:w},null,512),t("div",ue,[r(O,{to:"/login",class:"text-base underline"},{default:_(()=>[U("Login")]),_:1})])])])])],64)}}};export{ye as default};
